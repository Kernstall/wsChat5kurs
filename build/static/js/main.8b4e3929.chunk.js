(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{248:function(e,t,a){e.exports=a(579)},253:function(e,t,a){},255:function(e,t,a){},579:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(20),i=a.n(o),r=a(580),l=(a(253),a(66)),c=a(67),m=a(70),u=a(68),d=a(71),h=(a(255),a(581)),p=a(582),g=a(33),f=a(234),w=a.n(f),b=a(236),v=a.n(b),E=a(237),y=a.n(E),k=a(102),O=a.n(k),j=a(238),C=a.n(j),N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).state={open:!1,data:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"componentWillMount",value:function(){var e;e=this,fetch("/api/roomList",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.setState({data:t})})}},{key:"render",value:function(){var e=this.props.classes,t=this.state.data;return s.a.createElement("div",{className:e.root},s.a.createElement(w.a,{className:e.gridList,cols:1,cellHeight:200},t&&t.map(function(t){return s.a.createElement(v.a,{key:t.name},s.a.createElement("img",{src:t.imgSrc,alt:t.name}),s.a.createElement(y.a,{title:t.name,classes:{root:e.titleBar,title:e.title},actionIcon:s.a.createElement(O.a,{onClick:function(){return window.location.replace("/chat/".concat(t.wsConnect))}},s.a.createElement(C.a,{className:e.icon}))}))})))}}]),t}(s.a.Component),S=Object(g.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:"800px",height:"700"},icon:{color:"rgba(255, 255, 255, 0.54)"}}})(N),x=a(246),L=a(240),M=a.n(L),A=a(241),W=a.n(A),B=a(242),F=a.n(B),J=a(239),G=a.n(J),I=a(83),R=a.n(I),T=a(247),$=a(47),H=a.n($),U=a(69),X=a.n(U);var Y=Object(g.withStyles)(function(e){return{root:Object(T.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,"border-radius":0})}})(function(e){var t=e.classes,a=e.event;return s.a.createElement("div",null,"message"===a.type?s.a.createElement(H.a,{className:t.root,elevation:1},s.a.createElement(X.a,{variant:"h5",component:"h3",align:"left"},a.name),s.a.createElement(X.a,{component:"p",align:"left"},a.message)):a.message)}),q=a(152),z=a.n(q),D=(a(356),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this))).addMessage=function(e){a.setState({messageList:Object(x.a)(a.state.messageList).concat([e])})},a.handleMessage=function(){a.state.ws.send(JSON.stringify({type:"message",name:a.state.name,message:a.state.message})),a.setState({message:""})},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handleMessageChange=function(e){a.setState({message:e.target.value})},a.onFileLoad=function(e,t){return console.log(e.target.result,t.name)},a.state={name:"anonymous",open:!0,ws:null,messageList:[],message:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=new WebSocket("wss://".concat(window.location.host,"/websocket/").concat(this.props.match.params.uuid));this.setState({ws:e})}},{key:"componentWillUnmount",value:function(){this.state.ws.close()}},{key:"handleSubmit",value:function(){var e=this;this.state.ws.addEventListener("message",function(t){e.addMessage(JSON.parse(t.data))}),this.state.ws.send(JSON.stringify({type:"greetings",name:this.state.name})),this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props.classes;return s.a.createElement(H.a,{className:t.container},s.a.createElement("div",{className:t.map},this.state.messageList.map(function(e,t){return s.a.createElement(Y,{key:t,event:e})})),s.a.createElement(G.a,{open:this.state.open,"aria-labelledby":"scroll-dialog-title"},s.a.createElement(M.a,{id:"scroll-dialog-title"},"Choose your nick"),s.a.createElement(W.a,null,s.a.createElement(z.a,{id:"standard-name",label:"Name",className:t.textField,value:this.state.name,onChange:this.handleNameChange,margin:"normal"})),s.a.createElement(F.a,null,s.a.createElement(R.a,{onClick:function(){return e.handleSubmit()},color:"primary",disabled:""===this.state.name},"\u041e\u043a"))),s.a.createElement("div",{className:t.bottom},s.a.createElement(z.a,{id:"input",className:t.messageField,value:this.state.message,onChange:this.handleMessageChange,margin:"normal"}),s.a.createElement(R.a,{onClick:function(){return e.handleMessage()},color:"primary",disabled:""===this.state.message},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),t}(s.a.Component)),K=Object(g.withStyles)({textField:{width:200},messageField:{width:"fill-available"},container:{width:700,margin:"auto","border-radius":0,height:"665px",overflowY:"auto",overflowX:"hidden"},bottom:{position:"absolute",bottom:0,width:700,border:"1px solid #AAAAAA",display:"flex"},map:{"&$last-child":{"background-color":"red"}},paper:{borderRadius:0}})(D),P=a(243),Q=a.n(P),V=a(244),Z=a.n(V);var _=Object(g.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},headerLinkContainer:{width:100},pointer:{cursor:"pointer"}})(function(e){var t=e.classes;return s.a.createElement("div",{className:t.root},s.a.createElement(Q.a,{position:"static"},s.a.createElement(Z.a,null,s.a.createElement(O.a,{className:t.menuButton,color:"inherit","aria-label":"Menu"}),s.a.createElement(X.a,{variant:"h6",color:"inherit",className:t.grow},s.a.createElement("span",{className:t.pointer,onClick:function(){return window.location.replace("/")}},"wsChat")))))}),ee=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(_,null),s.a.createElement(h.a,null,s.a.createElement(p.a,{exact:!0,path:"/",component:S}),s.a.createElement(p.a,{exact:!0,path:"/chat/:port",component:K})))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(r.a,null,s.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[248,2,1]]]);
//# sourceMappingURL=main.8b4e3929.chunk.js.map